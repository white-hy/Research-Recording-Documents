# 讨论报告(12.17)

**冯浩哲**

**December 17,2017**

+++++

[TOC]

## 背景简述

在与陈教授讨论之后，我们又进行了一次小讨论，发现我们对于课题的陈述没有分清主次，使得陈教授有一些关于我们是否更换了课题的误解。因此在此次讨论报告开头，我先对我们的整体目标做一个概括性简述，而本次讨论中陈教授所提出的建议也可以纳入我们的整体目标范围。

我们的主要课题仍然是基于[Suggest Annotation](https://arxiv.org/abs/1706.04737)框架下进行的扩展，这个扩展有2个方面，一个是将2D问题扩展到3D问题，另一个是将 **Semantic Segmentation** 扩展到  **Object Detection** 与 **Instance Segmentation** 方向。在进行这个目标的时候，我们先进行了对肺结节的Semantic Segmentation的尝试，但是一方面结果并不好，另一方面在肺结节中，检测仍然是最重要的前提，单做Semantic Segmentation有一种造空中楼阁的感觉，因此我们决定先做一个能够检测肺结节的系统，在这个系统的基础上进行扩展以建立在肺结节诊断课题上的**Suggest Annotation**框架。

因此，我们今天所讨论的**Object Detection**相关内容是完成我们的主要课题中绕不过去，或者我们暂时还不知道怎么绕过去的部分，同时我们也想借这个机会掌握一些用于Object Detection的深度学习工具。但是我们的核心课题**扩展Suggest Annotation**没有改变。

在实现课题的数据集方面，我们想采用**上海市肺科医院**所提供的数据集作为我们的目标数据集，一是因为这个数据集比较新鲜，二是因为数据集着重于现在肺结节检测的难点,即病变的小结节的标注，因此数据集与当前的难点比较契合，三是因为数据集同时提供了肺结节的病理分类，这与当前的主流**2-stage Object Detection Network**非常契合。

同时在现阶段，我们在探索主课题的过程中所遇到的一些无从着手的困难在于主要课题中的 **Object Detection** 这一环节，因此下午我们提出了这一环节的问题，并同时进行了数据集的介绍，但是我们没有详细说明前因后果，使得陈教授产生了我们另开课题的误解，同时我们下午讨论只是对**Object Detection**这一环节做了探讨，对于做好**Object Detection**之后如何**扩展Suggest Annotation**这一方面未进行充分的讨论。希望我现在较为详细的叙述能使得陈教授对我们现在的工作方向有清楚的了解，从而能获得陈教授的进一步指导。

## 讨论要点

陈教授主要就我们现在所有的数据集的特点，如何基于这些特点进行研究，以及如何学习使用一个工具这三个主要方面进行了讨论，我对其进行分点总结如下:

### 数据集的特点

我们现有的来自于**上海市肺科医院**的数据集具有以下三个特点:

1. 标注的结节都为计算机较难以识别的小病理结节
2. 所有标注的结节都能100%断定是病变结节
3. 标注不仅提供了结节的位置信息，也提供了结节的病理分类

### 基于特点可行的研究方向

对于第一与第二个特点，陈教授指出，现在肺结节识别的主要难点就在于对这种难以区分的小结节的分类，而我们的数据集又恰好在这一方面具有某种特长，因此在对我们的肺结节数据集构建结节检测系统的时候应该着重于对小结节的精确识别方向。而对于**如何做精确识别**这个问题，陈教授指出，因为肺结节分类的难易程度会随着定位而变化，不同定位类型的结节(*肺壁结节，血管壁结节，孤立结节*)识别难度也不一样，对于位置进行细分，再对细分后的结节构建不同的分类器进行分类是一个很好的思路。这个思路概括为粗糙的模型就是建立一个多阶段的分类系统，第一个阶段对输入的区域进行*这个区域是否有A类结节*这种判定，之后对于不同的类别构建不同的小型识别器进行识别。分类判定可以放在神经网络充分提取特征之后，而后面的不同的小型识别器可以根据先验的分类难度进行差异化建模与训练。

对于第三个特点，陈教授指出病理分类问题是一个值得做的问题，但是这个问题的关键是我们的模型如何提出一种能够说服分类标准的证据。**肺结节病理分类问题**与传统的Object Detection的检测与分类问题有异同之处。在**相同点**上，病理分类问题也是一个先找结节位置，再进行分类的问题，因此它也可以用Faster R-CNN等框架尝试解决。但是在**不同点**上，肺结节的病理分类结果要得到使用者*(医生)*的肯定，那么必然需要一些证据。基于一个黑箱框架的预测并不是让人信服的，为了解决这个问题，陈教授认为我们可以尝试加入分割步骤，即用分割后的图像来作为分类的证据，它与前面的定位结合非常类似于现在的**Mask R-CNN**框架，而**Mask R-CNN**框架尚未有人进行三维的扩展，因此这是一个在Detection步骤值得我们去尝试的方向。



### 如何学习使用一个工具

因为我们现在大部分时间在进行基础知识的学习，这是一个学习使用工具的过程。陈教授考察了我们的学习状况，指出我们现在的问题是没有带着具体的问题去学习。陈教授指出，如果只是按照一篇论文，或者网上提供的一些例子去学习，那么这样学到的工具是肤浅的，只有利用工具真正去解决我们手头的问题，才能对**我们的工具与手头的问题**同时有一个深层次的了解。解决问题的过程，也是学习工具的过程，在这个过程中，我们能体会到工具本身适用于什么条件，适合于什么样的问题，有这样的体会，我们就能进一步发展工具，将它变成我们能熟练使用与精通的工具。

陈教授提出的这个见解恰好切中了我们学习过程中的不足之处。我们现在学习各种网络框架，往往是通读文章，然后找文章对应的代码实现文章的领域内容作为学习，这恰好就是处于肤浅的理解层次。我们之后会以**Suggest Annotation**为大方向，以手头肺结节数据集的**结节检测与病理分类任务**为一个小目标学习工具的使用。**Faster R-CNN,Mask R-CNN,Focal Loss**都是很好的工具，我们将在我们的具体数据集上进行实验，学习如何使用工具，并加深对我们的数据集的认识。





