# Task 3.26

首先，写一个函数，验证一下我们第26轮训练出来的网络有什么样的问题。为什么loss不断下降，但是训练与测试数据集上的VoE不断增大呢

如何测试：

第10次训练是3个batchsize，中间的growth rate是8

第11次训练也是3个batchsize，中间的growth rate 是7

test函数写一个模块，输入的是网络结构参数，第几次训练的Dataset划分参数，以及需要load的路径，然后我将对这次训练的Dataset进行预测，输出预测前后的图像，看看这些东西究竟在哪些图像上出了问题。

我找到出问题的地方了。

主要出问题有以下几个地方：

1.图像的类别不均衡，导致网络比较愿意保守分割，也就是说把红色的点给分成黑色。

2.图像分割的时候似乎没有一个Focal，也就是说有些点越训练越好，但是有些点反而并不这样

我需要什么：

我需要以Block width=6，

## 测试结果

其实测试结果还不错啦，dice的结果一直蛮好的。

对于真正检测出的Dice而言，这里的TP dice的结果最好是0.76，这是一个非常不错的数据了。

我会尝试使用以下进行训练：

1.针对正负标注不均衡问题增加权重损失loss，按比率来增加。比如我这次训练中，我需要对是1的权重增加损失，使得这一部分的损失能和0接近，这样就可以避免说很多1被训练为0的特点了。

2.仍然采用block width为6，batch size为4进行训练，增加Adam方法，增加测试集的数目。学会使用tensorboardX

3.是否可以用Focal Loss的方法对训练的数据集增加特定的Focal呢

4.弄清楚Binary Loss是如何设置权重的。

